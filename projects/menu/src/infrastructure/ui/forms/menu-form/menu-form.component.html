<form [formGroup]="form" class="menu-form" (ngSubmit)="submit()" role="form" aria-labelledby="formTitle" novalidate>

    <h2 id="formTitle" class="menu-form__title" tabindex="0">
        {{ form.getRawValue().menuId ? 'Editar Menú' : 'Crear Menú' }}
    </h2>

    <label class="menu-form__label" for="name">
        <span class="menu-form__text">Nombre <span class="menu-form__required" aria-hidden="true">*</span></span>
        <input id="name" class="menu-form__input" type="text" formControlName="name"
            [attr.aria-invalid]="form.get('name')?.invalid && form.get('name')?.touched" aria-required="true"
            aria-describedby="nameError">
        @if (form.get('name')?.invalid && form.get('name')?.touched) {
        <span id="nameError" class="menu-form__error" role="alert">El nombre es requerido</span>
        }
    </label>

    <label class="menu-form__label" for="description">
        <span class="menu-form__text">Descripción <span class="menu-form__required" aria-hidden="true">*</span></span>
        <textarea id="description" class="menu-form__input" formControlName="description"
            [attr.aria-invalid]="form.get('description')?.invalid && form.get('description')?.touched"
            aria-required="true" aria-describedby="descriptionError">
        </textarea>
        @if (form.get('description')?.invalid && form.get('description')?.touched) {
        <span id="descriptionError" class="menu-form__error" role="alert">La descripción es requerida</span>
        }
    </label>

    <button type="submit" class="menu-form__button" [disabled]="!form.valid"
        [attr.aria-label]="form.getRawValue().menuId ? 'Actualizar menú' : 'Crear nuevo menú'">
        {{ form.getRawValue().menuId ? 'Actualizar' : 'Crear' }}
    </button>
</form>